<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Puzzles</title>
		<link rel="stylesheet" href="styles/styles.css" />
		<link rel="stylesheet" href="styles/puzzleStyles.css" />
		<script src="javascript/jquery-2.1.1.min.js"></script>
		<script src="javascript/jquery-ui.js"></script>
		<script src="javascript/puzzle.js"></script>
	</head>
	<body>
		<header>
			<nav>
				<ul>
					<li><strong>Puzzles</strong></li>
				</ul>
			</nav>
		</header>

		<main>
			<div id="playSpace">
			<h4 id='date'><script async src="./javascript/index.js"></script></h4>
			<hr />
				<div id="activePuzzle" style="padding: 5px;">
					<h3 id="imgTitle"></h3> <hr />
					<div style="display: inline-block; margin: auto; width: 95%; vertical-align: top;">
						<ul id="sortable" class="sortable"></ul>
						<div id="refImgBox">
							<div id="moves">
								<div>Moves:</div><div class="moveCount">0</div>
							</div>
							<div id="time">
								Time Elapsed: <span id="timerPanel"></span> secs
							</div>
							<img id="refImg" />
							<p id="difficulty">
								<input type="radio" name="difficulty" id="easy" checked="checked" value="3" /> <label for="easy">Easy</label>
								<input type="radio" name="difficulty" id="medium" value="4" /> <label for="medium">Medium</label>
								<input type="radio" name="difficulty" id="hard" value="5" /> <label for="hard">Hard</label>
							</p>
							<div>
								<button id="ruleBtn" type="button" class="btn" onclick="rules();">Rules</button>
	                        	<button id="newBtn" type="button" class="btn">New Photo</button>
	                    	</div>
                   		</div>
    				</div>
    			</div>
    			<div id="gameOver" style="display: none;">
    				<div style="background-color: #ababab; padding: 5px 10px 20px 10px; text-align: center; ">
    					<h2 style="text-align: center">GAME OVER</h2>
    					<br /> You finished this picture.
    					<br /> Moves taken: <span class="moveCount">0</span>
    					<br /> Time taken: <span class="timeCount">0</span> seconds
    					<br />
    					<div>
    						<button type="button" onclick="window.location.reload(true);">Play Again?</button>
    					</div>
    				</div>
    			</div>

    			<script>
    				var images = [
    					{ src: 'images/bird.jpg', title: 'Bird' },
    					{ src: 'images/forest.jpg', title: 'forest' },
    					{ src: 'images/mountain.jpg', title: 'mountain' }
    				];

    				$(function () {
		                var gridSize = $('#difficulty :radio:checked').val();
		                imagePuzzle.startGame(images, gridSize);
		                $('#newBtn').click(function () {
		                    var gridSize = $('#difficulty :radio:checked').val();  // Take the updated gridSize from UI.
		                    imagePuzzle.startGame(images, gridSize);
		                });

		                $('#difficulty :radio').change(function (e) {
		                    var gridSize = $(this).val();
		                    imagePuzzle.startGame(images, gridSize);
		                });
		            });
		            function rules() {
		                alert('Click and drag to arrange the pieces of the picture to recreate the image on the right.');
		            }
    			</script>
		</main>
		
		<footer>
			Made by Christian Beason, 2019
		</footer>
	</body>
</html>